<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function runs a full AutoML pipeline, starting from a data.frame
split into training and test sets to adding predictions from an AutoML model
to the test set and possibly reporting variable importances."><title>Run a full AutoML pipeline — run_automl_pipeline • gentleman</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Run a full AutoML pipeline — run_automl_pipeline"><meta property="og:description" content="This function runs a full AutoML pipeline, starting from a data.frame
split into training and test sets to adding predictions from an AutoML model
to the test set and possibly reporting variable importances."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">gentleman</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/patc3-phd/gentleman/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Run a full AutoML pipeline</h1>
      <small class="dont-index">Source: <a href="https://github.com/patc3-phd/gentleman/blob/HEAD/R/ml.R" class="external-link"><code>R/ml.R</code></a></small>
      <div class="d-none name"><code>run_automl_pipeline.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function runs a full AutoML pipeline, starting from a <code>data.frame</code>
split into training and test sets to adding predictions from an AutoML model
to the test set and possibly reporting variable importances.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">run_automl_pipeline</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  <span class="va">target</span>,</span>
<span>  config <span class="op">=</span> <span class="fu"><a href="get_automl_config.html">get_automl_config</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  prop_train <span class="op">=</span> <span class="fl">0.7</span>,</span>
<span>  scale_numeric_features <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  add_confidence_level <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  plot_and_print_variable_importances <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  nthreads <span class="op">=</span> <span class="st">"half"</span>,</span>
<span>  shutdown_h2o <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>df</dt>
<dd><p>data.frame</p></dd>


<dt>target</dt>
<dd><p>(character) name of target variable</p></dd>


<dt>config</dt>
<dd><p>Configuration object (from calling <code><a href="get_automl_config.html">get_automl_config()</a></code>)</p></dd>


<dt>...</dt>
<dd><p>additional arguments passed to <code><a href="get_automl_model.html">get_automl_model()</a></code></p></dd>


<dt>prop_train</dt>
<dd><p>proportion of rows to be allocated to training</p></dd>


<dt>scale_numeric_features</dt>
<dd><p>(logical) whether to scale numeric features
(see <code><a href="scale_numeric_features_in_train_and_test.html">scale_numeric_features_in_train_and_test()</a></code>)</p></dd>


<dt>add_confidence_level</dt>
<dd><p>(logical) whether to add confidence levels
alongside predictions in the test set (default <code>FALSE</code>)</p></dd>


<dt>plot_and_print_variable_importances</dt>
<dd><p>(logical) whether to plot and print
variable importances if they are available (default <code>TRUE</code>)</p></dd>


<dt>nthreads</dt>
<dd><p>(character) how many threads (cores) to dedicate to the
H2O cluster ("half", "minus1", or "all"; see <code><a href="init_h2o.html">init_h2o()</a></code>)</p></dd>


<dt>shutdown_h2o</dt>
<dd><p>(logical) whether to shut down cluster at the end of the pipeline
(default <code>FALSE</code>)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>list with elements:</p><dl><dt>tt</dt>
<dd><p>train-test split constructed from <code>df</code>, with predictions and
possibly confidence levels added to the test set</p></dd>

<dt>automl</dt>
<dd><p>H2O AutoML model</p></dd>

<dt>importances</dt>
<dd><p>Variable importances (if requested)</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The <code>df</code> data.frame is first prepared by removing non-ASCII characters,
casting all character variables to factors (if any), and removing blank factor
levels from factors. Then it is split into training and test sets, and if requested,
numeric features are scaled based on sample statistics in the training set. Next,
a local H2O cluster is launched, the train and test sets are uploaded to the cluster,
and an AutoML model is requested using parameters specified in the configuration
object. Predictions are added to the test set (with or without confidence levels),
and variable importances may be plotted and reported. Finally, if requested,
the H2O cluster is shut down.</p>
<p>If a configuration object is not provided, the default configuration
is the configuration generated by <code><a href="get_automl_config.html">get_automl_config()</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="ttsplit.html">ttsplit()</a></code>,
<code><a href="scale_numeric_features_in_train_and_test.html">scale_numeric_features_in_train_and_test()</a></code>,
<code><a href="get_automl_model.html">get_automl_model()</a></code>,
<code><a href="add_predictions_from_automl.html">add_predictions_from_automl()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">pip</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op">|&gt;</span> <span class="fu">run_automl_pipeline</span><span class="op">(</span>target<span class="op">=</span><span class="st">"y1"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Patrick Coulombe.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

